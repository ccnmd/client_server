
ChatApp Documentation

1. High-Level Design (HLD)

 1.1. Má»¥c tiÃªu há»‡ thá»‘ng

- Cung cáº¥p má»™t á»©ng dá»¥ng chat console Ä‘Æ¡n giáº£n giá»¯a nhiá»u client thÃ´ng qua má»™t server trung tÃ¢m.
- Há»— trá»£ gá»­i vÃ  nháº­n tin nháº¯n theo thá»i gian thá»±c.
- Quáº£n lÃ½ Ä‘Äƒng nháº­p báº±ng tÃ i khoáº£n cá»‘ Ä‘á»‹nh.

 1.2. Chá»©c nÄƒng chÃ­nh

* Server:

  - Quáº£n lÃ½ káº¿t ná»‘i cá»§a nhiá»u client.
  - PhÃ¢n phá»‘i tin nháº¯n Ä‘áº¿n táº¥t cáº£ client cÃ²n láº¡i.
  - Ghi láº¡i lá»‹ch sá»­ chat.
* Client:

  - Cho phÃ©p ngÆ°á»i dÃ¹ng Ä‘Äƒng nháº­p báº±ng username/password.
  - Gá»­i vÃ  nháº­n tin nháº¯n qua terminal.

 1.3. Pháº¡m vi

- Giao diá»‡n dÃ²ng lá»‡nh (CLI).
- Giao tiáº¿p ná»™i bá»™ máº¡ng LAN qua TCP socket.



2. Architecture Overview

 2.1. Kiáº¿n trÃºc há»‡ thá»‘ng

  - Client-Server model
  - Giao tiáº¿p qua socket TCP (`AF_INET`, `SOCK_STREAM`)
  - Sá»­ dá»¥ng `select()` Ä‘á»ƒ multiplex I/O trÃªn server (multi-client chat)
  - XÃ¡c thá»±c ngÆ°á»i dÃ¹ng Ä‘Æ¡n giáº£n báº±ng tÃ i khoáº£n cá»©ng.

















 2.2. CÃ´ng nghá»‡ sá»­ dá»¥ng

| ThÃ nh pháº§n | CÃ´ng nghá»‡      |
| ---------- | -------------- |
| NgÃ´n ngá»¯   | C              |
| Giao tiáº¿p  | TCP Socket     |
| Xá»­ lÃ½ I/O  | `select()`     |
| OS há»— trá»£  | Ubuntu / Linux |

#### 2.3. ThÆ° viá»‡n chuáº©n sá»­ dá»¥ng

* `<stdio.h>`, `<stdlib.h>`, `<string.h>`, `<unistd.h>`, `<sys/socket.h>`, `<netinet/in.h>`, `<arpa/inet.h>`, `<fcntl.h>`, `<sys/select.h>`

---

### 3. ğŸ§© Diagrams

#### 3.1. Sequence Diagram: Gá»­i tin nháº¯n tá»« Client A Ä‘áº¿n Client B

```plaintext
Client A         Server             Client B
   |                |                  |
[Login] --------->  |                  |
                    | <---- Verify ---|
                    |                 |
[Send msg] -------> |                 |
                    | --- Broadcast --------> [Receive msg]
```

#### 3.2. SÆ¡ Ä‘á»“ luá»“ng dá»¯ liá»‡u cÆ¡ báº£n

```mermaid
flowchart TD
    subgraph Server
        S1[Accept Client]
        S2[Check login]
        S3[Receive message]
        S4[Broadcast to all]
    end

    subgraph Client
        C1[Login with fixed creds]
        C2[Send message]
        C3[Receive message]
    end

    C1 --> S1 --> S2 --> C2 --> S3 --> S4 --> C3
```

---

### 4. ğŸ“ Folder Structure

```bash
chatapp/
â”œâ”€â”€ server.c           # Server-side code
â”œâ”€â”€ client.c           # Client-side code
â”œâ”€â”€ user_db.txt          # (Optional) Danh sÃ¡ch tÃ i khoáº£n
â”œâ”€â”€ chat_history.txt   # Ghi láº¡i lá»‹ch sá»­ chat (server táº¡o)
â”œâ”€â”€ chat_log.txt
â”œâ”€â”€ Makefile
â”œâ”€â”€ README.md          # TÃ i liá»‡u mÃ´ táº£


---

 5. CÃ¡ch biÃªn dá»‹ch vÃ  cháº¡y

Server:

##bash:
gcc server.c -o server
./server <port>


 Client:

##bash:
gcc client.c -o client
./client <server_ip> <port>





### 7. ğŸ“ Ghi chÃº

* Server sá»­ dá»¥ng `select()` Ä‘á»ƒ há»— trá»£ nhiá»u káº¿t ná»‘i khÃ´ng Ä‘á»“ng bá»™.
* TÃ i khoáº£n ngÆ°á»i dÃ¹ng hiá»‡n táº¡i Ä‘Æ°á»£c viáº¿t cá»©ng trong code (`username == "user" && password == "pass"`).
* Server lÆ°u lá»‹ch sá»­ chat trong file `chat_history.txt`.


